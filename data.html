<!DOCTYPE html>
<html>



<head>
    <!-- download Zea Engine -- this downloads the latest build from version 3 of the engine -->
    <script src="./libs/zea-engine/index.umd.js"></script>
    <!-- download our stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.9/tailwind.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/dom-to-image-more@2.8.0/src/dom-to-image-more.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/squirrelly@8.0.8/dist/browser/squirrelly.min.js"></script>

    <title>Zea Engine App</title>
    <style>
        table {
            background-color: #666;
            border: 2px solid #000;
            color: #fff;
        }

        thead {
            background-color: #000;
        }

        th {
            font-size: 2em;
        }

        td,
        th {
            border: 1px solid #fff;
            padding: 15px;
        }

        a {
            text-decoration: underline;
        }
    </style>
</head>

<body class="overflow-hidden">

    <div class="layout grid h-screen">
        <main>
            <!-- HTML Canvas -- what we render to -->
            <canvas id="canvas"></canvas>
        </main>
    </div>

    <!-- Run your code here -->
    <script type="module">
        import { prepare } from './src/data.js'
        import { DataPool } from './src/DataPool.js'

        let json = DataPool.create("./src/data.json");
        json.loadData().then((data) => {
            data = json.getObjectFromList("infos", 0);
            let template = document.querySelector("#infos-billboard-template");
            template.innerHTML = Sqrl.render(template.innerHTML, data);
            domtoimage.toPng(template).then((pngData) => {
                var img = new Image();
                img.onload = function (argument) {
                    prepare(img);
                };
                img.src = pngData;
            });
        })
    </script>

    <div id="infos-billboard-template">
        <table>
            <thead>
                <th colspan="3">{{it.fullName}}</th>
            </thead>
            <tbody>
                <tr>
                    <td class="font-bold">Vocabulaire (nom français de la composante):</td>
                    <td class="bg-gray-600" colspan="2">{{it.vocableFR}}</td>
                </tr>
                <tr>
                    <td class="font-bold">Vocabulaire (vocabulaire usuel de la composante):</td>
                    <td class="bg-gray-600" colspan="2">{{it.vocableEN}}</td>
                </tr>
                <tr>
                    <td class="font-bold">Matériaux:</td>
                    <td class="bg-gray-600">{{it.materials.name}}</td>
                    <td class="bg-gray-600">{{it.materials.description}}</td>
                </tr>
                <tr>
                    <td class="font-bold">Dimensions standards:</td>
                    <td class="bg-gray-600" colspan="2">Hauteur {{it.standradSizes.height}}<br>Largeur
                        {{it.standradSizes.width}}</td>
                </tr>
                <tr>
                    <td class="font-bold">Dimensions possibles: limite inférieur</td>
                    <td class="bg-gray-600">Hauteur : <br>{{it.possibleSizes.height}}</td>
                    <td class="bg-gray-600">Largeur : <br>{{it.possibleSizes.width}}</td>
                </tr>
                <tr>
                    <td class="font-bold">Lien vers des images de constructions réelles (en différents contextes)</td>
                    <td class="bg-gray-600" colspan="2"><img src="./docs/images/building.bmp" alt=""></td>
                </tr>
                <tr>
                    <td class="font-bold">Norme du Code de construction du Québec:</td>
                    <td class="bg-gray-600">Extrait du Code construction du Québec <br>voir plus bas</td>
                    <td class="bg-gray-600">{{it.code.article}}
                        <br>{{it.code.links[0].name}}
                        <br> <a href="{{it.code.links[0].url}}">{{it.code.links[0].url}}</a>
                        <br> et
                        <br>{{it.code.links[1].name}}
                        <br> <a href="{{it.code.links[1].url}}">{{it.code.links[1].url}}</a>
                    </td>
                </tr>
                <tr>
                    <td class="font-bold">Information textuelle sur les prescriptions de pose et /ou techniques
                        d’assemblages
                    </td>
                    <td class="bg-gray-600" colspan="2">{{it.description}}</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3"> <button class="bg-gray-500 p-5" onclick="javascript:alert(123)">button</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</body>

</html>